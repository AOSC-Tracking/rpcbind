 AC_INIT(rpcbind, 0.1.4)
 
 AM_INIT_AUTOMAKE
# AM_MAINTAINER_MODE
AC_CONFIG_SRCDIR([src/rpcbind.c])
 AC_PROG_CC
 AM_CONFIG_HEADER(config.h)
 #AC_PROG_LIBTOOL
 ##AC_PROG_RANLIB
 AC_HEADER_DIRENT
 AC_PREFIX_DEFAULT(/usr)
                    
AC_ARG_ENABLE(debug,[  --enable-debug      Turns on rpcbind debugging], 
	[case "${enableval}" in
		yes) debug=true ;;
		no)  debug=no ;;
		*) AC_MSG_ERROR(bad value ${enableval} for --enable-debug) ;;
	esac],[debug=false])
AM_CONDITIONAL(DEBUG, test x$debug = xtrue)

AC_CHECK_HEADERS([arpa/inet.h fcntl.h netdb.h \
                  netinet/in.h stdlib.h string.h \
                  sys/param.h sys/socket.h \
                  sys/time.h syslog.h \
                  unistd.h])                    

AC_CHECK_LIB([pthread], [pthread_create])
AC_CHECK_LIB([tirpc], [clnt_create])

AC_CONFIG_FILES([Makefile src/Makefile man/Makefile])
AC_OUTPUT()
                                                                   
